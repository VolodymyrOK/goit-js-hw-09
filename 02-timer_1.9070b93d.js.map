{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_create_class.js","src/js/02-timer_1.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport Notiflix from 'notiflix';\n\nconst refs = {\n  input: document.querySelector('#datetime-picker'),\n  buttonStart: document.querySelector('[data-start]'),\n  buttonStop: document.querySelector('[data-stop]'),\n  field: document.querySelector('.field'),\n};\nconst { input, buttonStart, buttonStop, field } = refs;\nlet targetDate = null;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  enableSeconds: false,\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    const currentDate = Date.now();\n    if (selectedDates[0] < currentDate) {\n      Notiflix.Report.failure(\n        'Please choose a date in the future',\n        'Press the button to continue',\n        'Button'\n      );\n    } else {\n      buttonStart.hasAttribute('disabled')\n        ? buttonStart.toggleAttribute('disabled')\n        : buttonStart.removeAttribute('disabled');\n    }\n    targetDate = selectedDates[0];\n  },\n};\n\nconst fp = flatpickr(input, options);\n\nclass Timer {\n  constructor({ onTick }) {\n    this.timerId = null;\n    this.isActive = false;\n    this.onTick = onTick;\n    this.init();\n  }\n\n  init() {\n    this.isActive = false;\n    const time = this.convertMs(0);\n    this.onTick(time);\n  }\n\n  start() {\n    if (this.isActive) return this.init();\n\n    buttonStart.setAttribute('disabled', '');\n    buttonStop.removeAttribute('disabled');\n    this.isActive = true;\n\n    this.timerId = setInterval(() => {\n      const currentDate = new Date();\n      if (String(targetDate) <= String(currentDate) && this.isActive) {\n        this.isActive = false;\n        this.stop();\n        Notiflix.Report.success(\n          'Timer stopped',\n          'Press the button to continue',\n          'Button'\n        );\n        return;\n      }\n      this.isActive = true;\n      const time = this.convertMs(targetDate - Date.now());\n      this.onTick(time);\n    }, 1000);\n  }\n  stop() {\n    buttonStart.removeAttribute('disabled', '');\n    buttonStop.setAttribute('disabled', '');\n    clearInterval(this.timerId);\n    if (!this.isActive) {\n      this.isActive = true;\n      return this.init();\n    }\n  }\n  convertMs(timeMs) {\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = this.addLeadingZero(hour * 24);\n    const days = this.addLeadingZero(Math.floor(timeMs / day));\n    const hours = this.addLeadingZero(Math.floor((timeMs % day) / hour));\n    const minutes = this.addLeadingZero(\n      Math.floor(((timeMs % day) % hour) / minute)\n    );\n    const seconds = this.addLeadingZero(\n      Math.floor((((timeMs % day) % hour) % minute) / 1000)\n    );\n    return { days, hours, minutes, seconds };\n  }\n\n  addLeadingZero(value) {\n    return String(value).padStart(2, '0');\n  }\n}\n\nfunction updateClock({ days, hours, minutes, seconds }) {\n  field.firstElementChild.textContent = days;\n  field.nextElementSibling.firstElementChild.textContent = hours;\n  field.nextElementSibling.nextElementSibling.firstElementChild.textContent =\n    minutes;\n  field.nextElementSibling.nextElementSibling.nextElementSibling.firstElementChild.textContent =\n    seconds;\n}\n\nconst timer = new Timer({\n  onTick: updateClock,\n});\n\nbuttonStart.addEventListener('click', timer.start.bind(timer));\nbuttonStop.addEventListener('click', timer.stop.bind(timer));\n"],"names":["Object","defineProperty","$665014edacbfe17b$exports","value","default","instance","Constructor","TypeError","$74e7f8130373505f$var$_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","$74e7f8130373505f$exports","protoProps","staticProps","prototype","$f39f9364bfc558d9$var$refs","input","document","querySelector","buttonStart","buttonStop","field","$f39f9364bfc558d9$var$input","$f39f9364bfc558d9$var$buttonStart","$f39f9364bfc558d9$var$buttonStop","$f39f9364bfc558d9$var$field","$f39f9364bfc558d9$var$targetDate","$f39f9364bfc558d9$var$options","enableTime","time_24hr","defaultDate","Date","enableSeconds","minuteIncrement","onClose","selectedDates","currentDate","now","$parcel$interopDefault","$6JpON","Report","failure","hasAttribute","toggleAttribute","removeAttribute","$dbdyf","$f39f9364bfc558d9$var$timer","Timer","param","onTick","this","timerId","isActive","init","time","convertMs","setAttribute","setInterval","String","_this","stop","success","clearInterval","timeMs","minute","second","hour","day","addLeadingZero","days","Math","floor","hours","minutes","seconds","padStart","firstElementChild","textContent","nextElementSibling","addEventListener","start","bind"],"version":3,"file":"02-timer_1.9070b93d.js.map"}