function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},n={},o=e.parcelRequired7c6;null==o&&((o=function(t){if(t in i)return i[t].exports;if(t in n){var e=n[t];delete n[t];var o={id:t,exports:{}};return i[t]=o,e.call(o.exports,o,o.exports),o.exports}var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(t,e){n[t]=e},e.parcelRequired7c6=o);var s=o("fbklV"),r=o("7Y9D8");const l={input:document.querySelector("#datetime-picker"),button:document.querySelector("button[data-start]"),field:document.querySelector(".field"),restart:document.querySelector(".restart")},{input:d,button:a,field:u,restart:c}=l;let h=null;const f={enableTime:!0,time_24hr:!0,defaultDate:new Date,enableSeconds:!1,minuteIncrement:1,onClose(e){h=e[0].getTime();const i=Date.now();let n=h-i;Math.floor(n/1e3)<0?(a.setAttribute("disabled","disabled"),t(r).Report.failure("Please choose a date in the future","Press the button to continue","Button")):a.hasAttribute("disabled")?a.toggleAttribute("disabled"):a.removeAttribute("disabled")}};(0,s.default)(d,f);const b=new class{init(){this.isActive=!1;const t=this.convertMs(0);this.onTick(t)}start(){if(this.isActive)return this.init();a.setAttribute("disabled","disabled"),d.setAttribute("disabled","disabled"),c.textContent="To restart the timer, you need to reload the page",c.style.backgroundColor="teal",c.style.fontSize="24px",c.style.textAlign="center",c.style.maxWidth="310px",c.style.color="white",this.isActive=!0,this.intervalId=setInterval((()=>{const e=Date.now();let i=h-e,n=Math.round(i/1e3);if(n<0&&!this.isActive)this.isActive=!1,t(r).Report.failure("Please reload the page","To start the timer","");else{if(!(n>0&&this.isActive))return this.isActive=!0,this.init(),void t(r).Report.success("Timer stopped","Press the button to continue","Button");{this.isActive=!0;const t=this.convertMs(i);this.onTick(t)}}}),1e3)}convertMs(t){const e=6e4,i=36e5,n=this.addLeadingZero(24*i);return{days:this.addLeadingZero(Math.floor(t/n)),hours:this.addLeadingZero(Math.floor(t%n/i)),minutes:this.addLeadingZero(Math.floor(t%n%i/e)),seconds:this.addLeadingZero(Math.floor(t%n%i%e/1e3))}}addLeadingZero(t){return String(t).padStart(2,"0")}constructor({onTick:t}){this.intervalId=null,this.isActive=!1,this.onTick=t,this.init()}}({onTick:function({days:t,hours:e,minutes:i,seconds:n}){u.firstElementChild.textContent=t,u.nextElementSibling.firstElementChild.textContent=e,u.nextElementSibling.nextElementSibling.firstElementChild.textContent=i,u.nextElementSibling.nextElementSibling.nextElementSibling.firstElementChild.textContent=n}});a.addEventListener("click",b.start.bind(b));
//# sourceMappingURL=02-timer.361c25fd.js.map
